<%- include('includes/header') %>

<link rel="stylesheet" type="text/css" href="/css/signup.css" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
/>

<body>
  <div class="signup-wrapper">
    <a href="/admin" class="home-link">
      <i class="fa-solid fa-house"></i> Go Home
    </a>

    <form
      onsubmit="return validateSignupForm()"
      action="/admin/signup"
      method="POST"
      enctype="multipart/form-data"
      class="signup-form"
    >
      <h2>Admin Signup</h2>

      <div class="input-group">
        <input
          type="text"
          name="memberNick"
          placeholder="Admin nick *"
          required
        />
      </div>

      <div class="input-group">
        <input type="text" name="memberPhone" placeholder="Phone *" required />
      </div>

      <div class="input-group password-group">
        <input
          type="password"
          name="memberPassword"
          placeholder="Password *"
          required
        />
        <i class="fa-solid fa-eye toggle-pass"></i>
      </div>

      <div class="input-group password-group">
        <input
          type="password"
          name="confirmPassword"
          placeholder="Repeat password *"
          required
        />
        <i class="fa-solid fa-eye toggle-pass"></i>
      </div>

      <div class="file-upload">
        <label>Upload Image</label>
        <input
          type="file"
          name="memberImage"
          accept=".jpg,.jpeg,.png"
          onchange="previewImage(event)"
        />
        <small>Only .jpg, .jpeg, .png allowed</small>
        <div class="image-preview">
          <img id="preview" src="/img/default.png" alt="Image preview" />
        </div>
      </div>

      <input type="hidden" name="memberType" value="ADMIN" />

      <button type="submit" class="signup-btn">Sign Up</button>

      <div class="social-buttons">
        <button type="button" class="social-btn telegram">
          <i class="fab fa-telegram-plane"></i> Telegram
        </button>
        <button type="button" class="social-btn google">
          <i class="fab fa-google"></i> Google
        </button>
        <button type="button" class="social-btn kakao">
          <i class="fas fa-comment"></i> KakaoTalk
        </button>
      </div>

      <p class="alt-text">
        Already registered? <a href="/admin/login">Login</a>
      </p>
    </form>
  </div>

  <script>
    document.querySelectorAll(".toggle-pass").forEach((icon) => {
      icon.addEventListener("click", () => {
        const input = icon.previousElementSibling;
        if (input.type === "password") {
          input.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          input.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      });
    });

    function previewImage(event) {
      const reader = new FileReader();
      reader.onload = () => {
        document.getElementById("preview").src = reader.result;
      };
      reader.readAsDataURL(event.target.files[0]);
    }
  </script>
</body>

<%- include('includes/footer') %>
